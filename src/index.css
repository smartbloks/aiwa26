@import 'tailwindcss';
@import "tw-animate-css";

@font-face{
  font-family: "departureMono";
  src:  url('./assets/fonts/DepartureMono-Regular.woff')
}

/* Subtle chat edge throb effect */
@keyframes chat-edge-throb {
  0%, 100% {
    box-shadow:
      0 0 0 0 rgba(246, 130, 31, 0.10),
      inset 0 0 0 1px rgba(246, 130, 31, 0.16);
  }
  50% {
    box-shadow:
      0 0 0 6px rgba(246, 130, 31, 0.08),
      inset 0 0 0 2px rgba(246, 130, 31, 0.22);
  }
}

.chat-edge-throb {
  animation: chat-edge-throb 1.6s ease-in-out infinite;
  border-radius: 0.75rem; /* rounded-xl */
}

@media (prefers-reduced-motion: reduce) {
  .chat-edge-throb { animation: none; }
}

@custom-variant dark (&:is(.dark *));
@plugin '@tailwindcss/typography';
@theme inline {
	--radius-sm:
		calc(var(--radius) - 4px);
	--radius-md:
		calc(var(--radius) - 2px);
	--radius-lg:
		var(--radius);
	--radius-xl:
		calc(var(--radius) + 4px);
	--color-accent:
		var(--build-accent-color);
	--color-destructive:
		var(--destructive);
	--color-input:
		var(--input);
	--color-ring:
		var(--ring);
	--shadow-textarea:
		0px 1px 2px 0px rgba(0, 0, 0, 0.03),
		0px 2px 6px 0px rgba(0, 0, 0, 0.02),
		0px 8px 16px 0px rgba(0, 0, 0, 0.02),
		0px 0px 0px 1px rgba(0, 0, 0, 0.04);
	--color-bg-1: var(--build-chat-colors-bg-1);
	--color-bg-2: var(--build-chat-colors-bg-2);
	--color-bg-3: var(--build-chat-colors-bg-3);
	--color-bg-4: var(--build-chat-colors-bg-4);
	--color-border-primary: var(--build-chat-colors-border-primary);
	--color-border-secondary: var(--build-chat-colors-border-secondary);
	--color-border-tertiary: var(--build-chat-colors-border-tertiary);
	--color-danger: var(--build-chat-colors-danger);
	--color-brand-heavy: var(--build-chat-colors-brand-heavy);
	--color-brand-primary: var(--build-chat-colors-brand-primary);
	--color-brand-subtle: var(--build-chat-colors-brand-subtle);
	--color-text-inverted: var(--build-chat-colors-text-inverted);
	--color-text-primary: var(--build-chat-colors-text-primary);
	--color-text-secondary: var(--build-chat-colors-text-secondary);
	--color-text-tertiary: var(--build-chat-colors-text-tertiary);

	--animate-typing-dot: typing-dot 1.2s ease-in-out infinite;
	--animate-shake: shake 1s ease-in-out;
}


:root {
	--radius:
		0.75rem;
	--destructive:
		#DC2626; /* Refined error red */
	--border:
		#E5E7EB; /* Subtle neutral border */
	--input:
		#F9FAFB; /* Refined input background */
	--ring:
		rgba(246, 130, 31, 0.24); /* Brand-colored focus ring */

	/*
	 * Premium Light Theme - Apple-Inspired Color System
	 * Designed to harmonize with AIWA brand (#F6821F)
	 *
	 * Philosophy:
	 * - Refined neutrals with warm undertones
	 * - Subtle hierarchy through minimal value shifts
	 * - Generous white space and breathing room
	 * - Sophisticated shadow system for depth
	 */

	/* Brand & Accent Colors - Refined from AIWA Logo */
	--build-accent-color: #F6821F; /* Primary brand orange */

	/* Background Layers - Subtle warm neutral progression */
	--build-chat-colors-bg-1: #F5F5F7; /* Lightest warm gray - Apple's signature */
	--build-chat-colors-bg-2: #FAFAFA; /* Subtle elevated surface */
	--build-chat-colors-bg-3: #FCFCFD; /* Near-white with hint of warmth */
	--build-chat-colors-bg-4: #FFFFFF; /* Pure white for maximum contrast */

	/* Border Colors - Extremely subtle for premium feel */
	--build-chat-colors-border-primary: rgba(0, 0, 0, 0.06); /* Primary dividers */
	--build-chat-colors-border-secondary: rgba(0, 0, 0, 0.04); /* Secondary dividers */
	--build-chat-colors-border-tertiary: rgba(0, 0, 0, 0.03); /* Subtle hints */

	/* Danger/Error State */
	--build-chat-colors-danger: #DC2626; /* Clear but not aggressive */

	/* Brand Color Variations */
	--build-chat-colors-brand-heavy: #E67316; /* Deeper, more saturated */
	--build-chat-colors-brand-primary: #F6821F; /* Core brand color */
	--build-chat-colors-brand-subtle: rgba(246, 130, 31, 0.08); /* Subtle background tint */

	/* Text Colors - Refined hierarchy (never pure black) */
	--build-chat-colors-text-inverted: #FFFFFF; /* White text on dark surfaces */
	--build-chat-colors-text-primary: #1D1D1F; /* Primary text - Apple's refined black */
	--build-chat-colors-text-secondary: #6E6E73; /* Secondary text - muted but legible */
	--build-chat-colors-text-tertiary: #86868B; /* Tertiary text - subtle hints */
}

.dark {
	--destructive:
		#EF4444; /* Error red */
	--border:
		#393939; /* Primary border color */
	--input:
		#292929; /* Input background */
	--ring:
		rgba(246, 130, 31, 0.4); /* Brighter focus ring for dark mode */

	--build-chat-colors-bg-1: #151515;
	--build-chat-colors-bg-2: #1f2020;
	--build-chat-colors-bg-3: #292929;
	--build-chat-colors-bg-4: #3c3c3c;
	--build-chat-colors-border-primary: rgba(255, 255, 255, 0.08);
	--build-chat-colors-border-secondary: rgba(255, 255, 255, 0.06);
	--build-chat-colors-border-tertiary: rgba(255, 255, 255, 0.04);
	--build-chat-colors-brand-heavy: #FF8C29;
	--build-chat-colors-brand-primary: #F6821F;
	--build-chat-colors-brand-subtle: rgba(246, 130, 31, 0.12);
	--build-chat-colors-text-inverted: #000000;
	--build-chat-colors-text-primary: #F5F5F7;
	--build-chat-colors-text-secondary: #A1A1A6;
	--build-chat-colors-text-tertiary: #86868B;

	/* Enhanced shadow system for dark mode */
	--shadow-dialog:
		0px 20px 60px 0px rgba(0, 0, 0, 0.4),
		0px 8px 24px 0px rgba(0, 0, 0, 0.24),
		0px 2px 8px 0px rgba(0, 0, 0, 0.16),
		0px 0px 0px 1px rgba(255, 255, 255, 0.08);
	--shadow-elevation:
		0px 8px 24px 0px rgba(0, 0, 0, 0.3),
		0px 2px 8px 0px rgba(0, 0, 0, 0.2),
		0px 1px 2px 0px rgba(0, 0, 0, 0.16);
}

@layer base {
	* {
		@apply border-border-primary outline-ring/50;
	}
  	body {
    	@apply bg-bg-3 text-text-primary h-full;
		/* Smoother font rendering for premium feel */
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		font-feature-settings: "kern" 1;
		text-rendering: optimizeLegibility;
	}
	button {
		@apply cursor-pointer;
		/* Subtle transitions for all interactive elements */
		transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
	}
	select {
		@apply cursor-pointer;
		transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
	}
}

@theme {
	--font-sans:
		-apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text',
		'Inter', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
		'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

	--color-brand: #F6821F;
	--color-text: #1D1D1F;
	--color-text-on-brand: #FFFFFF;

	/* Premium Shadow System - Layered and soft */
	--shadow-dialog:
		0px 20px 60px 0px rgba(0, 0, 0, 0.08),
		0px 8px 24px 0px rgba(0, 0, 0, 0.04),
		0px 2px 8px 0px rgba(0, 0, 0, 0.02),
		0px 0px 0px 1px rgba(0, 0, 0, 0.04);
	--shadow-elevation:
		0px 8px 24px 0px rgba(0, 0, 0, 0.04),
		0px 2px 8px 0px rgba(0, 0, 0, 0.02),
		0px 1px 2px 0px rgba(0, 0, 0, 0.02);
	--shadow-soft-layered:
		0px 4px 12px 0px rgba(0, 0, 0, 0.03),
		0px 1px 3px 0px rgba(0, 0, 0, 0.02);
}


/* Hack from https://stackoverflow.com/a/71876526 */
.monaco-editor {
	position: absolute !important;
}

@utility bg-graph-paper {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.02'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

/* Premium Scrollbar - Refined and subtle */
::-webkit-scrollbar {
	width: 6px;
	height: 6px;
	background-color: transparent;
}

::-webkit-scrollbar-thumb {
	background-color: rgba(0, 0, 0, 0.08);
	border-radius: 3px;
	transition: background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

::-webkit-scrollbar-thumb:hover {
	background-color: rgba(0, 0, 0, 0.14);
}

.dark ::-webkit-scrollbar-thumb {
	background-color: rgba(255, 255, 255, 0.12);
}

.dark ::-webkit-scrollbar-thumb:hover {
	background-color: rgba(255, 255, 255, 0.2);
}

::-webkit-scrollbar-corner {
	background-color: transparent;
}

/* Phase Timeline Custom Scrollbar */
.phase-timeline-scroll::-webkit-scrollbar {
	width: 4px;
}

.phase-timeline-scroll::-webkit-scrollbar-track {
	background: rgba(0, 0, 0, 0.02);
	border-radius: 2px;
}

.phase-timeline-scroll::-webkit-scrollbar-thumb {
	background: rgba(0, 0, 0, 0.08);
	border-radius: 2px;
	transition: background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.phase-timeline-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(0, 0, 0, 0.14);
}

.dark .phase-timeline-scroll::-webkit-scrollbar-track {
	background: rgba(255, 255, 255, 0.02);
}

.dark .phase-timeline-scroll::-webkit-scrollbar-thumb {
	background: rgba(255, 255, 255, 0.12);
}

.dark .phase-timeline-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(255, 255, 255, 0.2);
}

.a-tag a {
	@apply text-brand;
}

.prose {
	--tw-prose-th-headers: --value(var(--color-text));
	--tw-prose-body: --value(var(--color-text));
	--tw-prose-headings: --value(var(--color-text));
	--tw-prose-code: --value(var(--color-text));
	--tw-prose-bold: --value(var(--color-text));
	--tw-prose-quotes: --value(var(--color-text));
	--tw-prose-counters: --value(var(--color-text));
}

/* Chat messages custom scrollbar - Premium feel */
.chat-messages-scroll::-webkit-scrollbar {
	width: 6px;
}

.chat-messages-scroll::-webkit-scrollbar-track {
	background: transparent;
}

.chat-messages-scroll::-webkit-scrollbar-thumb {
	background: rgba(0, 0, 0, 0.06);
	border-radius: 3px;
	transition: background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.chat-messages-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(0, 0, 0, 0.12);
}

.dark .chat-messages-scroll::-webkit-scrollbar-thumb {
	background: rgba(255, 255, 255, 0.1);
}

.dark .chat-messages-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(255, 255, 255, 0.16);
}

/* Terminal custom scrollbar - Refined */
.terminal-scroll::-webkit-scrollbar {
	width: 6px;
}

.terminal-scroll::-webkit-scrollbar-track {
	background: rgba(0, 0, 0, 0.02);
	border-radius: 3px;
}

.terminal-scroll::-webkit-scrollbar-thumb {
	background: rgba(0, 0, 0, 0.08);
	border-radius: 3px;
	transition: background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.terminal-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(0, 0, 0, 0.14);
}

.dark .terminal-scroll::-webkit-scrollbar-track {
	background: rgba(255, 255, 255, 0.02);
}

.dark .terminal-scroll::-webkit-scrollbar-thumb {
	background: rgba(255, 255, 255, 0.1);
}

.dark .terminal-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(255, 255, 255, 0.16);
}

/* Hide scrollbar but keep scroll behavior */
.no-scrollbar {
	-ms-overflow-style: none; /* IE and Edge */
	scrollbar-width: none; /* Firefox */
}
.no-scrollbar::-webkit-scrollbar {
	display: none; /* Chrome, Safari, Opera */
}

/* Premium hover states for interactive elements */
button:hover:not(:disabled),
select:hover:not(:disabled) {
	transform: translateY(-0.5px);
}

button:active:not(:disabled),
select:active:not(:disabled) {
	transform: translateY(0);
}

/* Smooth transitions for theme switching */
* {
	transition-property: background-color, border-color, color, fill, stroke;
	transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
	transition-duration: 150ms;
}

/* Focus states - Brand-colored ring */
*:focus-visible {
	outline: 2px solid var(--build-accent-color);
	outline-offset: 2px;
	border-radius: 0.25rem;
}
